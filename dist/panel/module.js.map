{"version":3,"sources":["../../src/panel/module.js"],"names":["PanelCtrl","ExampleAppPanelCtrl","$scope","$injector","$http","$httpProvider","backendSrv","defaults","useXDomain","headers","common","metricResults","name","value","getConfig","console","log","config","url","jsonData","analyticEngineURL","method","then","successCallback","response","errorCallback","cb","get","results","template"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAQA,e,kBAAAA,S;;;;;;;;;;;;;;;;;;;;;2BAKFC,mB;;;AAEJ,qCAAYC,MAAZ,EAAoBC,SAApB,EAA+BC,KAA/B,EAAsCC,aAAtC,EAAqDC,UAArD,EAAiE;AAAA;;AAAA,gJACzDJ,MADyD,EACjDC,SADiD,EACtCC,KADsC,EAC/BC,aAD+B,EAChBC,UADgB;;AAG/DD,wBAAcE,QAAd,CAAuBC,UAAvB,GAAoC,IAApC;AACA,iBAAOH,cAAcE,QAAd,CAAuBE,OAAvB,CAA+BC,MAA/B,CAAsC,kBAAtC,CAAP;;AAEA,gBAAKJ,UAAL,GAAkBA,UAAlB;;AAEAJ,iBAAOS,aAAP,GAAuB,CACrB,EAAEC,MAAM,UAAR,EAAoBC,OAAO,EAA3B,EADqB,EAErB,EAAED,MAAM,UAAR,EAAoBC,OAAO,EAA3B,EAFqB,EAGrB,EAAED,MAAM,UAAR,EAAoBC,OAAO,EAA3B,EAHqB,CAAvB;;AAMA,gBAAKC,SAAL,CAAe,kBAAU;AACvBC,oBAAQC,GAAR,CAAYC,MAAZ;AACA,gBAAIC,MAAMD,OAAOE,QAAP,CAAgBC,iBAA1B;AACAhB,kBAAM;AACJiB,sBAAQ,KADJ;AAEJH,mBAAQA,GAAR;AAFI,aAAN,EAGGI,IAHH,CAGQ,SAASC,eAAT,CAAyBC,QAAzB,EAAmC;AACzC;AACA;AACAT,sBAAQC,GAAR,CAAYQ,QAAZ;AACD,aAPD,EAOG,SAASC,aAAT,CAAuBD,QAAvB,EAAiC;AAClC;AACA;AACAT,sBAAQC,GAAR,CAAYQ,QAAZ;AACD,aAXD;AAYD,WAfD;AAd+D;AA8BhE;;;;oCACSE,E,EAAI;AACZ,iBAAKpB,UAAL,CAAgBqB,GAAhB,CAAoB,0CAApB,EAAgEL,IAAhE,CAAqE,UAASM,OAAT,EAAkB;AACrFF,iBAAGE,OAAH;AACD,aAFD;AAGD;;;;QArC+B5B,S;;AAuClCC,0BAAoB4B,QAApB,GAA+B,kDAC7B,2DADF;;2BAIE5B,mB","file":"module.js","sourcesContent":["import {PanelCtrl} from  'app/plugins/sdk';\n\nimport '../css/example-app.css!'\nimport '../directives/metric-results';\n\nclass ExampleAppPanelCtrl extends PanelCtrl {\n\n  constructor($scope, $injector, $http, $httpProvider, backendSrv) {\n    super($scope, $injector, $http, $httpProvider, backendSrv);\n\n    $httpProvider.defaults.useXDomain = true;\n    delete $httpProvider.defaults.headers.common['X-Requested-With'];\n\n    this.backendSrv = backendSrv;\n\n    $scope.metricResults = [\n      { name: 'metric-1', value: 23 },\n      { name: 'metric-2', value: 45 },\n      { name: 'metric-3', value: 66 }\n    ];\n\n    this.getConfig(config => {\n      console.log(config);\n      let url = config.jsonData.analyticEngineURL;\n      $http({\n        method: 'GET',\n        url: `${url}/pattern/threshold`\n      }).then(function successCallback(response) {\n        // this callback will be called asynchronously\n        // when the response is available\n        console.log(response);\n      }, function errorCallback(response) {\n        // called asynchronously if an error occurs\n        // or server returns response with an error status.\n        console.log(response);\n      });\n    });\n  }\n  getConfig(cb) {\n    this.backendSrv.get('api/plugins/analytic-engine-app/settings').then(function(results) {\n      cb(results);\n    });\n  }\n}\nExampleAppPanelCtrl.template = '<h2 class=\"analytic-engine-app-heading\"></h2>' +\n  '<metric-results results=\"metricResults\"></metric-results>';\n\nexport {\n  ExampleAppPanelCtrl as PanelCtrl\n};\n\n"]}